{
  "manifestVersion": "1.0.0",
  "schemaVersion": 1,
  "title": "OpenClaw Rust End-to-End Parity Manifest",
  "owners": [
    "adybag14-cyber"
  ],
  "sources": {
    "upstreamRepo": "../openclaw",
    "rustRepo": ".",
    "upstreamGatewayHandlers": "src/gateway/server-methods.ts",
    "rustGatewayMethods": "src/gateway.rs"
  },
  "cp0Gate": {
    "id": "CP0",
    "name": "Parity Contract + Scoreboard Foundation",
    "requirements": [
      {
        "id": "CP0-R1",
        "description": "Versioned parity manifest exists in-repo"
      },
      {
        "id": "CP0-R2",
        "description": "Replay corpus tests are deterministic and executed in CI"
      },
      {
        "id": "CP0-R3",
        "description": "Every PR publishes parity subsystem deltas"
      }
    ]
  },
  "cp1Gate": {
    "id": "CP1",
    "name": "Standalone Rust Gateway Runtime Core",
    "requirements": [
      {
        "id": "CP1-R1",
        "description": "Rust standalone gateway mode serves control-plane RPCs without TypeScript gateway runtime"
      },
      {
        "id": "CP1-R2",
        "description": "Role/scope authorization matrix is enforced at request dispatch boundary"
      },
      {
        "id": "CP1-R3",
        "description": "Event fanout applies bounded backpressure/drop semantics for slow consumers"
      }
    ]
  },
  "cp5Gate": {
    "id": "CP5",
    "name": "Nodes, Browser, Canvas, Device Flows",
    "requirements": [
      {
        "id": "CP5-R1",
        "description": "Browser orchestration parity supports node proxy and browser.open flow with allowlist + timeout/error contracts"
      },
      {
        "id": "CP5-R2",
        "description": "Canvas present flow supports waitable node invoke completion and cancellation semantics"
      },
      {
        "id": "CP5-R3",
        "description": "Node/device command gate fixtures cover pairing, invoke/event, browser/canvas, and declared camera/screen/location/system command routes"
      }
    ]
  },
  "cp6Gate": {
    "id": "CP6",
    "name": "Model Provider + Auth + Failover Foundation",
    "requirements": [
      {
        "id": "CP6-R1",
        "description": "Provider alias normalization parity for model references (for example z.ai -> zai, qwen -> qwen-portal)"
      },
      {
        "id": "CP6-R2",
        "description": "Provider-model normalization supports codex and anthropic shorthand canonicalization"
      },
      {
        "id": "CP6-R3",
        "description": "Baseline provider failover chain fixtures are executable and published as CI artifacts"
      }
    ]
  },
  "artifacts": {
    "methodSurfaceDiffJson": "parity/generated/method-surface-diff.json",
    "methodSurfaceReportMd": "parity/method-surface-report.md",
    "payloadCorpusJson": "tests/parity/gateway-payload-corpus.json",
    "scoreboardJson": "parity/generated/parity-scoreboard.json",
    "scoreboardMarkdown": "parity/generated/parity-scoreboard.md",
    "baselineScoreboardJson": "parity/manifest/scoreboard-baseline.json"
  },
  "deferredSubsystems": [
    "Tool execution host runtime parity",
    "Full node/device runtime host parity",
    "Model provider/auth/failover parity"
  ],
  "acceptanceCommands": [
    ".\\scripts\\parity\\method-surface-diff.ps1 -Surface both -UpstreamRepoPath ..\\openclaw",
    ".\\scripts\\parity\\build-scoreboard.ps1",
    ".\\scripts\\parity\\run-replay-corpus.ps1",
    ".\\scripts\\parity\\run-cp1-gate.ps1",
    ".\\scripts\\parity\\run-cp5-gate.ps1",
    ".\\scripts\\parity\\run-cp6-gate.ps1"
  ]
}
